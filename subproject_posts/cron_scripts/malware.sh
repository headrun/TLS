#! /bin/bash


crawl()
{
export PATH='$PATH:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin';
cd /home/epictions/Phase_01/malware_bytes/malware_bytes/spiders; 
scrapy crawl mb_threads_crawl --logfile /home/epictions/Phase_01/log_files/mb_threads_crawl.log ;
}


posts()
{
export PATH='$PATH:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin';
cd /home/epictions/Phase_01/malware_bytes/malware_bytes/spiders;
python  mb_thread.py >> /home/epictions/Phase_01/log_files/mb_thread.log ;
}


author()
{
export PATH='$PATH:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin';
cd /home/epictions/Phase_01/malware_bytes/malware_bytes/spiders;
scrapy crawl malwarebytes_author --logfile /home/epictions/Phase_01/log_files/malwarebytes_author.log ;
}


crawl
sleep 300

max=15
for i in `seq 2 $max`
do
    posts
    sleep 1200
done

author
